webpackJsonp([19],{L2Gt:function(e,t,o){var a=o("TK4R");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("11adde57",a,!0)},TK4R:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.login-container[data-v-f891a99a] {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-image: url("+o("dZ/S")+");\n  background-size: cover;\n  background-repeat: no-repeat;\n}\n.login-container .login-form[data-v-f891a99a] {\n    position: absolute;\n    left: 0;\n    right: 0;\n    width: 400px;\n    padding: 35px 35px 15px 35px;\n    margin: 120px auto;\n    background-color: #f8f8f9;\n}\n.login-container .title-container[data-v-f891a99a] {\n    position: relative;\n}\n.login-container .title-container .title[data-v-f891a99a] {\n      font-size: 26px;\n      color: #4a4949;\n      margin: 0px auto 40px auto;\n      text-align: center;\n      font-weight: bold;\n}\n",""])},yKUn:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){var e=this;return{loginForm:{username:"",message:"",pass:"",checkPass:""},loginRules:{username:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:["blur","change"]}],message:[{required:!0,trigger:"blur",message:"请输入验证码"}],pass:[{required:!0,validator:function(e,t,o){""===t?o(new Error("请输入密码")):(/^(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^[^\s\u4e00-\u9fa5]{6,16}$/.exec(t)||o(new Error("6-16位，由数字、英文、符号三种类型构成，至少包含两种类型字符")),o())},trigger:"blur"}],checkPass:[{required:!0,validator:function(t,o,a){""===o?a(new Error("请再次输入密码")):o!==e.loginForm.pass?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}]},loading:!1,activeName:"1",butName:"获取验证码",isDisabled:!1,validateCode:""}},methods:{getMessage:function(){var e=this,t=60;this.$refs.loginForm.validateField("username",function(o){if(o);else{var a={email:e.loginForm.username};e.$http.post("/api/sendCode",a).then(function(t){"请输入真实邮箱"==t.data.respCode?e.$alert("请输入真实邮箱!","失败",{confirmButtonText:"确定"}):localStorage.setItem("validateCode",t.data.respCode)},function(t){e.$router.push({path:"/"+t})});var n=setInterval(function(){0==t?(clearInterval(n),e.isDisabled=!1,e.butName="获取验证码"):(e.butName=t+"秒后重试",e.isDisabled=!0,t--)},1e3)}})},signup:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return!1;if(localStorage.getItem("validateCode")!=e.loginForm.message)e.$alert("验证码错误，请重新输入","注册失败",{confirmButtonText:"确定"});else{e.loading=!0;var o={email:e.loginForm.username,password:e.loginForm.pass};e.$http.post("/api/register",o).then(function(t){if(e.loading=!1,"1"==t.data.respCode){localStorage.setItem("roleId","0"),localStorage.setItem("roles","teacher");var o=new Date;localStorage.setItem("loginTime",o.getTime()),localStorage.setItem("isLogin",!0),localStorage.setItem("Authorization",t.data.token),localStorage.setItem("account",e.loginForm.username),e.$router.push("/home")}else e.loading=!1,e.$alert(t.data.respCode,"注册失败",{confirmButtonText:"确定"})},function(t){e.$router.push({path:"/"+t})})}})},login:function(){this.$router.push("/login")}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{autocomplete:"on",model:e.loginForm,rules:e.loginRules,"label-position":"left"}},[a("div",{staticClass:"title-container"},[a("img",{staticStyle:{width:"250px"},attrs:{src:o("5Ax4")}})]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user-solid",name:"username",type:"text",autocomplete:"on",placeholder:"请输入邮箱"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"message"}},[a("el-row",[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{"prefix-icon":"el-icon-message",name:"password",autocomplete:"on",placeholder:"请输入验证码"},model:{value:e.loginForm.message,callback:function(t){e.$set(e.loginForm,"message",t)},expression:"loginForm.message"}})],1),e._v(" "),a("el-col",{attrs:{span:8,offset:1}},[a("el-button",{attrs:{type:"primary",plain:"",disabled:e.isDisabled,id:"dyMobileButton"},on:{click:function(t){e.getMessage()}}},[e._v(e._s(e.butName))])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"pass"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.loginForm.pass,callback:function(t){e.$set(e.loginForm,"pass",t)},expression:"loginForm.pass"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"checkPass"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-finished",type:"password",autocomplete:"off",placeholder:"请确认密码"},model:{value:e.loginForm.checkPass,callback:function(t){e.$set(e.loginForm,"checkPass",t)},expression:"loginForm.checkPass"}})],1),e._v(" "),a("el-button",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{type:"primary",loading:e.loading},on:{click:e.signup}},[e._v("注册")]),e._v(" "),a("el-link",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.login}},[e._v("已有账号，去登录")])],1)],1)},staticRenderFns:[]};var r=o("VU/8")(a,n,!1,function(e){o("L2Gt")},"data-v-f891a99a",null);t.default=r.exports}});